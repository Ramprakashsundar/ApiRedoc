{
   "swagger":"2.0",
   "info":{
      "version":"v1",
      "title":"TOGS.API.Vehicle",
      "contact":{
         "name":"Trimble Oil and Gas Inc.",
         "url":"http://www.geotracinternational.com/",
         "email":"support@geotracinternational.com"
      },
      "description":"# Overview\n\n At Trimble Oil & Gas Services, you get so much more than a maximized ROI. You get everything that both you and your drivers need to make the journey as safe and efficient as possible. From customized GPS that maps all oil fields, to industry-leading safety products â€“ we truly change the way you do business.\n\nTOGS Vehicle API 1.0 provides operations like:\n\n* **Navistar APIs** - OnCommand Connection (OCC) reduces downtime by providing near real time diagnostic evaluations. The Health Report generated from vehicles provides Navistar and dealers advanced notification for parts inventory management. It enables Navistar and dealers to proactively fulfill order parts at your preferred location based on likely needed repair prior to vehicle arrival.\n\n# Basepath URL\n\n**qa** - ```http://togsapigateway.geotracdemo.com/api```\n\n\n**Prod** - ```https://togsapigateway.gogeotrac.com/api```\n\n# Authorization\n\nThe service will be secured through API Auth Server. Thus requiring an\n'Authorization' header in all requests. The value of the header can be\neither picked up from APIAuthServer which will be an OAuth2 Bearer token. You have to send a valid\n```Access Token``` in the Authorization header, using the ```Bearer```\nauthentication scheme.\n\nFormat: ```Bearer <access_token>```\n"
   },
   "paths":{
       "/api/VehicleReports/GetVehicleReports":{
         "post":{
            "tags":[
               "VehicleReports"
            ],
            "operationId":"GetVehicleReports",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json",
               "application/xml",
               "text/xml",
               "application/*+xml",
               "application/xml",
               "text/xml",
               "application/*+xml"
            ],
            "produces":[
               "application/json",
               "application/xml"
            ],
            "parameters":[
               {
                  "name":"request",
                  "in":"body",
                  "required":false,
                  "schema":{
                     "$ref":"#/definitions/GetVehicleReportsRequest"
                  }
               },
               {
                  "name":"customerIds",
                  "in":"header",
                  "required":true,
                  "type":"array",
                  "items":{
                     "type":"integer",
                     "format":"int32"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/GenericResponse[List[VehicleReportMessage]]"
                  }
               }
            }
         }
      },
      "/api/VehicleReports/PushVehicleReport":{
         "post":{
            "tags":[
               "VehicleReports"
            ],
            "operationId":"PushVehicleReport",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json",
               "application/xml",
               "text/xml",
               "application/*+xml",
               "application/xml",
               "text/xml",
               "application/*+xml"
            ],
            "produces":[
               "application/json",
               "application/xml"
            ],
            "parameters":[
               {
                  "name":"vehicleTelemetryRequest",
                  "in":"body",
                  "required":false,
                  "schema":{
                     "$ref":"#/definitions/VehicleInformationRequest"
                  }
               },
               {
                  "name":"customerSystemIds",
                  "in":"header",
                  "required":false,
                  "type":"array",
                  "items":{
                     "type":"string",
                     "format":"uuid"
                  },
                  "collectionFormat":"multi",
                  "minLength":1,
                  "uniqueItems":false
               },
               {
                  "name":"assetSystemId",
                  "in":"header",
                  "required":true,
                  "type":"string",
                  "format":"uuid"
               },
               {
                  "name":"msgId",
                  "in":"header",
                  "required":true,
                  "type":"integer",
                  "format":"int64"
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/PushVehicleReportResponse"
                  }
               },
               "400":{
                  "description":"Bad Request",
                  "schema":{
                     "$ref":"#/definitions/ProblemDetails"
                  }
               }
            }
         }
      },
      "/api/VehicleInformation/GetVehicleInformation":{
         "post":{
            "tags":[
               "VehicleInformation"
            ],
            "operationId":"GetVehicleInformation",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json",
               "application/xml",
               "text/xml",
               "application/*+xml",
               "application/xml",
               "text/xml",
               "application/*+xml"
            ],
            "produces":[
               "text/plain",
               "application/json",
               "text/json",
               "application/xml",
               "text/xml"
            ],
            "parameters":[
               {
                  "name":"req",
                  "in":"body",
                  "required":false,
                  "schema":{
                     "$ref":"#/definitions/GetVehicleInformationRequest"
                  }
               },
               {
                  "name":"customerIds",
                  "in":"header",
                  "required":true,
                  "type":"array",
                  "items":{
                     "type":"integer",
                     "format":"int32"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/GenericResponse[List[VehicleInformation]]"
                  }
               }
            }
         }
      },
      "/api/VehicleOdometer/GetAssetOdometer":{
         "post":{
            "tags":[
               "VehicleOdometer"
            ],
            "operationId":"GetAssetOdometer",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json",
               "application/xml",
               "text/xml",
               "application/*+xml",
               "application/xml",
               "text/xml",
               "application/*+xml"
            ],
            "produces":[
               "application/json",
               "application/xml"
            ],
            "parameters":[
               {
                  "name":"request",
                  "in":"body",
                  "required":true,
                  "schema":{
                     "$ref":"#/definitions/GetVehicleOdometerRequest"
                  }
               },
               {
                  "name":"customerIds",
                  "in":"header",
                  "required":false,
                  "type":"array",
                  "items":{
                     "type":"integer",
                     "format":"int32"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               },
               {
                  "name":"customerSystemIds",
                  "in":"header",
                  "required":false,
                  "type":"array",
                  "items":{
                     "type":"string",
                     "format":"uuid"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/GenericResponse[List[AssetOdometer]]"
                  }
               }
            }
         }
      },
       "/api/v1/VehiceIdentifiers/GetIdentifiers":{
         "post":{
            "tags":[
               "VehiceIdentifiers"
            ],
            "operationId":"GetVehicleIdentifiers",
            "consumes":[
               "application/json-patch+json",
               "application/json",
               "text/json",
               "application/*+json",
               "application/xml",
               "text/xml",
               "application/*+xml",
               "application/xml",
               "text/xml",
               "application/*+xml"
            ],
            "produces":[
               "application/json",
               "application/xml"
            ],
            "parameters":[
               {
                  "name":"request",
                  "in":"body",
                  "required":false,
                  "schema":{
                     "$ref":"#/definitions/GetAssetIdentifiersRequest"
                  }
               },
               {
                  "name":"customerIds",
                  "in":"header",
                  "required":false,
                  "type":"array",
                  "items":{
                     "type":"integer",
                     "format":"int32"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               },
               {
                  "name":"customerSystemIds",
                  "in":"header",
                  "required":false,
                  "type":"array",
                  "items":{
                     "type":"string",
                     "format":"uuid"
                  },
                  "collectionFormat":"multi",
                  "uniqueItems":false
               }
            ],
            "responses":{
               "200":{
                  "description":"Success",
                  "schema":{
                     "$ref":"#/definitions/GetAssetIdentifiersResponse"
                  }
               }
            }
         }
      }
   },
   "definitions":{
      "GetAssetIdentifiersRequest":{
         "type":"object",
         "properties":{
            "AssetGroupSystemIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"uuid",
                  "type":"string"
               }
            },
            "CustomGroupSystemIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"uuid",
                  "type":"string"
               }
            },
            "AssetUnitNumbers":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "VIN":{
               "type":"string"
            },
            "VINSearchType":{
               "enum":[
                  "BeginsWith",
                  "EndsWith",
                  "Contains",
                  "Exact"
               ],
               "type":"string"
            }
         }
      },
      "GetAssetIdentifiersResponse":{
         "type":"object",
         "properties":{
            "AssetIdentifiers":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/AssetIdentifier"
               }
            },
            "SystemMessages":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "AssetIdentifier":{
         "type":"object",
         "properties":{
            "AssetId":{
               "format":"uuid",
               "type":"string"
            },
            "AssetUnitNumber":{
               "type":"string"
            },
            "LicensePlate":{
               "type":"string"
            },
            "VIN":{
               "type":"string"
            },
            "Description":{
               "type":"string"
            },
            "CustomerId":{
               "format":"int32",
               "type":"integer"
            },
            "ModemSn":{
               "type":"string"
            },
            "Make":{
               "type":"string"
            },
            "Model":{
               "type":"string"
            },
            "Year":{
               "type":"string"
            },
            "AssetCategory":{
               "type":"string"
            }
         }
      },
      "GetVehicleInformationRequest":{
         "type":"object",
         "properties":{
            "AssetUnitNumbers":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "AssetIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"uuid",
                  "type":"string"
               }
            }
         }
      },
      "GenericResponse[List[VehicleInformation]]":{
         "type":"object",
         "properties":{
            "Payload":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/VehicleInformation"
               }
            },
            "ErrorMessages":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "VehicleInformation":{
         "type":"object",
         "properties":{
            "AssetUnitNumber":{
               "type":"string"
            },
            "AssetId":{
               "format":"uuid",
               "type":"string"
            },
            "LicencePlate":{
               "type":"string"
            },
            "Make":{
               "type":"string"
            },
            "Model":{
               "type":"string"
            },
            "Year":{
               "format":"int32",
               "type":"integer"
            },
            "EngineType":{
               "type":"string"
            },
            "GroupName":{
               "type":"string"
            },
            "GroupCode":{
               "type":"string"
            },
            "AssetName":{
               "type":"string"
            },
            "Organization":{
               "type":"string"
            },
            "CustomerSystemId":{
               "format":"uuid",
               "type":"string"
            },
            "VIN":{
               "type":"string"
            },
            "SerialNumber":{
               "type":"string"
            }
         }
      },
      "GetVehicleOdometerRequest":{
         "type":"object",
         "properties":{
            "AssetSystemIds":{
               "maxLength":20,
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"uuid",
                  "type":"string"
               }
            },
            "AssetUnitNumbers":{
               "maxLength":20,
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "GenericResponse[List[AssetOdometer]]":{
         "type":"object",
         "properties":{
            "Payload":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/AssetOdometer"
               }
            },
            "ErrorMessages":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "AssetOdometer":{
         "type":"object",
         "properties":{
            "AssetSystemId":{
               "format":"uuid",
               "type":"string"
            },
            "AssetUnitNumber":{
               "type":"string"
            },
            "LicensePlate":{
               "type":"string"
            },
            "VinNumber":{
               "type":"string"
            },
            "ModemSerialNumber":{
               "type":"string"
            },
            "Odometer":{
               "format":"int32",
               "type":"integer"
            },
            "LastReadingDate":{
               "format":"date-time",
               "type":"string"
            },
            "UseECMOdometer":{
               "type":"boolean"
            }
         }
      },
      "GetVehicleReportsRequest":{
         "type":"object",
         "properties":{
            "begintimestamp":{
               "format":"ISO8601 message time(2017-01-01T13:00:18Z)",
               "type":"string"
            },
            "endtimestamp":{
               "format":"ISO8601 message time(2017-01-01T13:00:18Z)",
               "type":"string"
            },
            "AssetSystemIds":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "format":"uuid",
                  "type":"string"
               }
            }
         }
      },
      "GenericResponse[List[VehicleReportMessage]]":{
         "type":"object",
         "properties":{
            "Payload":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/VehicleReportMessage"
               }
            },
            "ErrorMessages":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      },
      "VehicleReportMessage":{
         "type":"object",
         "properties":{
            "CustomerId":{
               "format":"int32",
               "type":"integer"
            },
            "VIN":{
               "type":"string"
            },
            "UnitNumber":{
               "type":"string"
            },
            "LicensePlate":{
               "type":"string"
            },
            "ModemSn":{
               "type":"string"
            },
            "MsgTime":{
               "format":"date-time",
               "type":"string"
            },
            "CustomerSystemId":{
               "format":"uuid",
               "type":"string"
            },
            "AssetSystemId":{
               "format":"uuid",
               "type":"string"
            },
            "TelemetryList":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/TelemetricAttribute"
               }
            },
            "DtcInformationList":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "$ref":"#/definitions/DtcInformation"
               }
            },
            "UnknownMsgPayload":{
               "type":"string"
            },
            "MsgId":{
               "format":"int64",
               "type":"integer"
            },
            "Latitude":{
               "format":"double",
               "type":"number"
            },
            "Longitude":{
               "format":"double",
               "type":"number"
            },
            "Type":{
               "enum":[
                  "DTC",
                  "ECM"
               ],
               "type":"string"
            }
         }
      },
      "TelemetricAttribute":{
         "type":"object",
         "properties":{
            "ECMType":{
               "type":"string"
            },
            "Value":{
               "type":"string"
            },
            "CreatedAt":{
               "format":"date-time",
               "type":"string"
            }
         }
      },
      "DtcInformation":{
         "type":"object",
         "properties":{
            "Protocol":{
               "type":"string"
            },
            "DTC":{
               "type":"string"
            },
            "SourceAddress":{
               "type":"string"
            },
            "FMI":{
               "type":"string"
            },
            "IsActive":{
               "type":"boolean"
            },
            "Occurrence_Count":{
               "type":"string"
            },
            "LampStatus":{
               "type":"string"
            },
            "LampBlinkRate":{
               "type":"string"
            },
            "CreatedAt":{
               "format":"date-time",
               "type":"string"
            },
            "SPN":{
               "type":"string"
            },
            "PID":{
               "type":"string"
            },
            "SA":{
               "type":"string"
            },
            "MID":{
               "type":"string"
            },
            "Number_Of_DTC_Reported":{
               "type":"string"
            },
            "Fault_Active":{
               "type":"boolean"
            }
         }
      },
      "VehicleInformationRequest":{
         "required":[
            "MsdId",
            "MsgTime",
            "MessagePayload",
            "Type"
         ],
         "type":"object",
         "properties":{
            "MsdId":{
               "format":"int64",
               "type":"integer"
            },
            "MsgTime":{
               "format":"date-time",
               "type":"string"
            },
            "MessagePayload":{
               "type":"string"
            },
            "Type":{
               "enum":[
                  "DTC",
                  "ECM"
               ],
               "type":"string"
            },
            "Latitude":{
               "format":"double",
               "type":"number"
            },
            "Longitude":{
               "format":"double",
               "type":"number"
            }
         }
      },
      "PushVehicleReportResponse":{
         "type":"object",
         "properties":{
            "IsPayloadSaved":{
               "type":"boolean"
            },
            "SystemMessages":{
               "uniqueItems":false,
               "type":"array",
               "items":{
                  "type":"string"
               }
            }
         }
      }
   }
}
